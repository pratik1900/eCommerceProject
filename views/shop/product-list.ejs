<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="css/main.css">
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>

            <main>
                <% if (prods.length > 0) { %>
                    <div class="container">
                        <div class="row justify-content-center">
                            <!-- <div class="col-sm-10">
                                <form>
                                    <div class="form-group">
                                      <input type="text" class="form-control" placeholder="Search" aria-label="Search">
                                      <button></button>
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-10 border p-3">
                                <form>
                                    <div class="form-group">
                                      <label for="inputAddress2">Address 2</label>
                                      <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                                    </div>
                                    <div class="form-row">
                                      <div class="form-group col-md-6">
                                        <label for="inputCity">City</label>
                                        <input type="text" class="form-control" id="inputCity">
                                      </div>
                                      <div class="form-group col-md-4">
                                        <label for="inputState">State</label>
                                        <select id="inputState" class="form-control">
                                          <option selected>Choose...</option>
                                          <option>...</option>
                                        </select>
                                      </div>
                                      <div class="form-group col-md-2">
                                        <label for="inputZip">Zip</label>
                                        <input type="text" class="form-control" id="inputZip">
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="gridCheck">
                                        <label class="form-check-label" for="gridCheck">
                                          Check me out
                                        </label>
                                      </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Sign in</button>
                                  </form>
                            </div> -->
                            <% for (let product of prods) { %>
                                <div class="card shadow col-lg-3 m-lg-3 col-md-5  m-md-2">
                                    <div class="zoom">
                                        <img class="card-img-top" width="100%" height="225" src="/<%= product.imageUrl %>" alt="<%= product.title %>">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <%= product.title %>
                                        </h5>
                                        <h6 class="card-subtitle mb-2 text-muted">
                                            $<%= product.price %>
                                        </h6>
                                        <p class="card-text">
                                            <%= product.description %>
                                        </p>
                                        <a class="card-link" href="/products/<%= product._id %>" class="btn">Details</a>
                                        <% if(isAuthenticated) { %>
                                            <%- include('../includes/add-to-cart.ejs', {product: product}) %>
                                        <% } %>
                                    </div>
                                </div>
                            <% } %>
                        </div> 
                    </div>
                    <%- include('../includes/pagination.ejs', { currentPage: currentPage, nextPage: nextPage, previousPage: previousPage, lastPage: lastPage, hasPreviousPage: hasPreviousPage, hasNextPage: hasNextPage }) %>
                    <% } else { %>
                        <h1>No Products Found!</h1>
                        <% } %>
            </main>
            <%- include('../includes/end.ejs') %>